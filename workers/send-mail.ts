import "module-alias/register";
import { Api, InlineKeyboard, InputFile } from "grammy";
import { User } from "@/generated/prisma";
import { prisma } from "@/utils/prisma";
import { i18n } from "@/plugins/I18n";

// const { CHAT_ID, MESSAGE_CHAT_ID, MESSAGE_ID, BOT_TOKEN } = process.env;

(async () => {
  try {
    // const chatId = Number(CHAT_ID);
    // const message = {
    //   chat_id: Number(MESSAGE_CHAT_ID),
    //   message_id: Number(MESSAGE_ID),
    // };
    // console.log(message);
    // const users = await prisma.user.findMany({
    //   where: {
    //     isMailBanned: false,
    //   },
    // });

    const users = [
      67251619, 141920338, 182079700, 198150357, 212614903, 223413388,
      251661891, 260913055, 266874225, 292234001, 303278115, 306864949,
      313525374, 321737739, 337040608, 356865245, 373761369, 389190473,
      392297587, 405568659, 406073993, 414649755, 415083449, 419775665,
      435258023, 437432197, 439440814, 449998514, 453808984, 456524984,
      461928170, 466904034, 472139902, 472644134, 477437431, 482039433,
      495846134, 498103735, 503349069, 503937221, 504289429, 508772266,
      513078471, 522057877, 537549872, 549885364, 558112709, 564011753,
      566936389, 567145828, 568012249, 573562341, 576364728, 586524660,
      587342247, 589901766, 602340751, 603773597, 627784434, 628696826,
      633454199, 633498335, 649292251, 650733272, 660490737, 662858168,
      664608663, 672057334, 672203589, 677126498, 683297487, 685251404,
      690867248, 695929284, 700721791, 706044296, 710802141, 712457583,
      717955315, 720517387, 731635379, 734417322, 737010714, 742624269,
      744231103, 744451646, 752967539, 754768466, 754826357, 759540714,
      766262048, 771239174, 771539368, 777040814, 783534822, 789153440,
      793161716, 793216884, 797613079, 798694163, 802203297, 803349828,
      805454801, 817477875, 818682285, 820887803, 821804271, 826801884,
      832191934, 836351705, 838303269, 845455628, 847061680, 853339514,
      854441195, 855255816, 857084658, 858512222, 860809287, 864323588,
      865682238, 867743362, 872658049, 876163437, 876238984, 877527439,
      877828529, 880328934, 881602515, 882046966, 885750069, 886169426,
      886395993, 888202384, 888454149, 903147873, 903844001, 906040753,
      906060148, 906300497, 909783818, 913830761, 917321163, 917531983,
      921290507, 921731127, 922341487, 923081924, 926806632, 926809259,
      927539987, 929030300, 932936206, 934637938, 938422598, 939320794,
      939404820, 941101356, 943056624, 949079844, 955172904, 956880824,
      965174035, 971740687, 972387815, 972849466, 980813047, 981043749,
      982850375, 984517847, 986117863, 990421307, 993272766, 994776228,
      997768244, 998793318, 999604964, 999930352, 1016897204, 1016898953,
      1017467698, 1017913869, 1023226883, 1030175258, 1030855623, 1035099609,
      1035587066, 1036824169, 1039629461, 1040362237, 1044622928, 1046552798,
      1051553149, 1055320156, 1055377258, 1058376544, 1062230359, 1067470601,
      1073729776, 1074388776, 1078727641, 1079791353, 1079903494, 1080150614,
      1085618975, 1088003194, 1088525979, 1088969469, 1089530790, 1090811744,
      1091846124, 1092028034, 1095916362, 1098017771, 1098295316, 1099708102,
      1104281607, 1105357272, 1106018228, 1107169817, 1107820044, 1108722095,
      1110194011, 1111313574, 1111889290, 1116588702, 1117732209, 1136131376,
      1137709358, 1141796510, 1144824905, 1146818490, 1149575328, 1153652212,
      1157800231, 1161056356, 1166816395, 1169741732, 1171815739, 1173027793,
      1175094238, 1175115509, 1175309756, 1176754811, 1182587820, 1184500017,
      1184568932, 1185783877, 1188506590, 1190734924, 1191117887, 1191403397,
      1191667534, 1192518278, 1192647226, 1193374241, 1197858855, 1199891039,
      1205904746, 1208869345, 1217858453, 1218390527, 1223552335, 1232238646,
      1233271382, 1233718174, 1235545196, 1237429066, 1242840534, 1243227675,
      1243564394, 1243810355, 1246962392, 1250812104, 1261445023, 1265099456,
      1266547590, 1266792785, 1269212993, 1271125255, 1273492338, 1274524235,
      1276364129, 1278544821, 1280351371, 1281000381, 1281114477, 1283026684,
      1292764717, 1292954706, 1296345428, 1296376758, 1296719261, 1297525584,
      1303136176, 1307162533, 1309621139, 1311028091, 1313532524, 1313926336,
      1317306343, 1319310304, 1319639547, 1321007502, 1325150972, 1326138380,
      1329997008, 1335614497, 1335885637, 1337303529, 1339612249, 1344729931,
      1347706624, 1350463343, 1351988941, 1354016535, 1355116037, 1358565358,
      1364869874, 1371694417, 1374160647, 1375035222, 1376859472, 1378951542,
      1385368214, 1388786584, 1391676154, 1396044658, 1396597263, 1398154226,
      1398477310, 1399141393, 1401181122, 1403139434, 1403478608, 1403708067,
      1411391321, 1413045587, 1413064627, 1415102310, 1419874815, 1421006292,
      1424919290, 1424923491, 1426798291, 1427139161, 1427263441, 1431131167,
      1440770076, 1442686934, 1442964299, 1446000903, 1448947365, 1450280220,
      1451249067, 1452235923, 1453903419, 1459327096, 1459461678, 1466439012,
      1467988488, 1470315427, 1471646694, 1477211189, 1477970347, 1480668377,
      1485935890, 1488418583, 1489658622, 1491281243, 1492156686, 1492555724,
      1495017798, 1498569928, 1501704422, 1513043076, 1516819478, 1516928057,
      1519547111, 1520340921, 1521312735, 1522255205, 1527444590, 1533568363,
      1535558512, 1544862229, 1545580747, 1546320241, 1549567421, 1553212821,
      1556344147, 1559095690, 1560564135, 1560879597, 1574807566, 1577628065,
      1579376371, 1588041875, 1590348953, 1591230744, 1606152045, 1609159271,
      1609196504, 1616718836, 1618308216, 1619970035, 1623165510, 1624725747,
      1631385482, 1637184708, 1638879617, 1640291350, 1647567711, 1650695021,
      1652905493, 1652918364, 1653796562, 1659116834, 1661281825, 1661371577,
      1670917471, 1671170264, 1672081853, 1677483428, 1678453564, 1686669430,
      1687141791, 1688152308, 1689209420, 1690576386, 1692314574, 1693035276,
      1700971571, 1701099616, 1705164709, 1705489515, 1705498991, 1706088543,
      1706866966, 1706989598, 1712389616, 1713496963, 1713694956, 1717590688,
      1717668018, 1719276681, 1721402354, 1722076988, 1722540538, 1734761927,
      1735669224, 1738504625, 1742300835, 1746448369, 1746775238, 1746987447,
      1753108275, 1753491896, 1755074481, 1755552154, 1756107232, 1758332676,
      1760645052, 1762714839, 1765325253, 1766553884, 1767500907, 1770124448,
      1770946681, 1776449962, 1777066087, 1777475972, 1781287124, 1787190179,
      1793471021, 1798435346, 1802164819, 1803202978, 1804709265, 1807725411,
      1811289509, 1812286579, 1815668616, 1817614492, 1818176001, 1818196155,
      1818949949, 1825714656, 1826316710, 1829488699, 1838166036, 1848889971,
      1855489253, 1859759939, 1860448813, 1860967828, 1866143581, 1873261547,
      1873865943, 1876058933, 1885403119, 1891631551, 1891799864, 1891864994,
      1892492837, 1899600457, 1901464143, 1902519115, 1911430173, 1912689789,
      1913130526, 1913929902, 1914387150, 1914433676, 1915344913, 1916476647,
      1923735427, 1930699117, 1930765483, 1932145446, 1933226749, 1933267208,
      1936472738, 1937596698, 1937981927, 1961230444, 1961762267, 1972398004,
      1972675933, 1977112069, 1978311627, 1980265940, 1983189079, 1986201446,
      1993587658, 1994134014, 1994710467, 1997871163, 2001111975, 2002415303,
      2005674185, 2008311868, 2015330791, 2016229423, 2020779126, 2022424753,
      2025407759, 2028304857, 2030288562, 2032368254, 2033005565, 2034445620,
      2034669084, 2038564474, 2042695209, 2043059292, 2043760924, 2044181031,
      2045152359, 2056173395, 2056683824, 2057053258, 2057153317, 2058873592,
      2064760559, 2068771141, 2081803257, 2081836656, 2082514887, 2082580698,
      2085359233, 2098858929, 2108224994, 2111140746, 2113129448, 2118090463,
      2119227194, 2124929800, 2125113902, 2129904307, 2130828824, 2136718474,
      2141175483, 2142431149, 2145256020, 2146375209, 5005037758, 5006057695,
      5011309656, 5012426050, 5019577604, 5019639978, 5021801600, 5023677725,
      5023922368, 5026149118, 5028489439, 5031682207, 5032369560, 5033094008,
      5034322515, 5035060367, 5035150941, 5040029896, 5040355555, 5044084859,
      5048030308, 5053754735, 5060418881, 5064123038, 5069161591, 5074233901,
      5080847928, 5081791978, 5087297386, 5089375345, 5091086307, 5091537032,
      5094307685, 5095689081, 5097286130, 5097455575, 5105204167, 5105318450,
      5106101408, 5108148622, 5110207651, 5110617461, 5111846808, 5112271114,
      5114462294, 5115130288, 5115813646, 5116065961, 5117857457, 5122591333,
      5123268422, 5127112584, 5127425258, 5128031776, 5129021794, 5132064434,
      5133553023, 5136954392, 5137444339, 5140846448, 5142488415, 5148121133,
      5149518969, 5150806461, 5151546020, 5152244405, 5154729038, 5162586150,
      5162937166, 5163084626, 5170012818, 5170461194, 5175083834, 5177502140,
      5178133573, 5182409829, 5183036684, 5183291154, 5185541613, 5188433287,
      5189284746, 5194058900, 5194111378, 5195329226, 5197804039, 5199428897,
      5201502057, 5203070263, 5205137658, 5206131272, 5206586314, 5206682172,
      5208000926, 5208382659, 5211024620, 5213444757, 5216782455, 5217953098,
      5218663135, 5218847388, 5218987559, 5221643576, 5223065727, 5223553524,
      5225999897, 5227000084, 5227689869, 5229554083, 5234095967, 5235188933,
      5240489778, 5240534527, 5240858645, 5243636419, 5244233513, 5245931191,
      5253822220, 5254355986, 5257453277, 5257578745, 5259839939, 5265523485,
      5268120961, 5269481508, 5271647974, 5272012474, 5272068420, 5272852186,
      5274921964, 5278029124, 5280378814, 5280547681, 5284569863, 5285435416,
      5285479269, 5291557109, 5291951622, 5302632490, 5303858077, 5307149944,
      5309226575, 5309745449, 5311421982, 5312380739, 5313355067, 5313420146,
      5323351774, 5323572672, 5324666754, 5326051571, 5327882559, 5338956435,
      5339829728, 5339844613, 5341365565, 5344206247, 5344609159, 5346719375,
      5348620876, 5349875419, 5356817555, 5358165825, 5358978115, 5360620364,
      5362509317, 5362621291, 5365143001, 5366920069, 5369284559, 5369953224,
      5371218870, 5373913528, 5375036993, 5376328227, 5382155310, 5382203663,
      5383565668, 5385325911, 5385711103, 5390103816, 5401517765, 5402240125,
      5403657123, 5410490838, 5411280001, 5411352223, 5415647913, 5419916720,
      5422929236, 5423162716, 5427564677, 5432951004, 5435667516, 5440487895,
      5440980096, 5442174961, 5450238884, 5450649414, 5450830825, 5451277388,
      5455372835, 5457330696, 5458698007, 5460277795, 5462436824, 5465279193,
      5470377604, 5471120446, 5472353329, 5474848110, 5474897662, 5477184710,
      5478084602, 5481010252, 5487407940, 5497098781, 5497920095, 5500020741,
      5501466810, 5506859170, 5509163135, 5510066696, 5510242214, 5510897283,
      5512460752, 5517953375, 5518390608, 5519507357, 5520684511, 5522199534,
      5533004974, 5534602589, 5550125841, 5551275845, 5552148509, 5557456295,
      5561274696, 5565715872, 5575488587, 5579764553, 5581403217, 5584787321,
      5590444168, 5593066465, 5594528412, 5594692576, 5595101681, 5596136254,
      5597583861, 5618911467, 5620200800, 5621935718, 5625299298, 5626591204,
      5630417768, 5630632351, 5632451273, 5637202347, 5641620673, 5646828008,
      5652342499, 5658733256, 5663795470, 5668783771, 5669861524, 5678407379,
      5680948167, 5685198309, 5687000336, 5691383640, 5694224345, 5696389407,
      5696827011, 5700793802, 5705320752, 5707595574, 5710418083, 5713881692,
      5714786163, 5714875166, 5714899403, 5724131808, 5724471459, 5725861315,
      5728481582, 5728561756, 5729676250, 5733808996, 5734206476, 5735799617,
      5737388836, 5740556359, 5742457635, 5744737153, 5747087894, 5755396887,
      5756984920, 5758797390, 5762542396, 5768284233, 5770016676, 5770288729,
      5772228596, 5774008445, 5777508879, 5777551600, 5784717249, 5798761561,
      5800903545, 5801048632, 5803831012, 5805915590, 5806421417, 5808648432,
      5813456018, 5813722126, 5814189024, 5818999073, 5820583016, 5821268236,
      5823326415, 5825575122, 5837989925, 5838515493, 5838678017, 5847663006,
      5848284197, 5848894315, 5851634998, 5851974116, 5860511836, 5866013581,
      5866482954, 5867671992, 5872370937, 5876756838, 5879094037, 5881059418,
      5887052607, 5894093534, 5894825182, 5895007168, 5896165231, 5899102374,
      5901465587, 5903333556, 5911311960, 5914234623, 5919231836, 5920721537,
      5923486606, 5924691403, 5926473499, 5927023822, 5930788982, 5931690172,
      5936985501, 5938648440, 5938977541, 5939790907, 5943940511, 5946284363,
      5946698301, 5949977193, 5952203670, 5958595965, 5963902053, 5964236642,
      5968258023, 5972781520, 5972845534, 5973307654, 5975265451, 5976183650,
      5977938018, 5983386218, 5984972682, 5991696672, 5992436637, 5993729865,
      5994808328, 5996165421, 5998261619, 5998265557, 5999905588, 6000041541,
      6004542349, 6007196475, 6008206253, 6009076341, 6009686542, 6009899482,
      6014942415, 6017887700, 6019544120, 6021170661, 6028159208, 6028180039,
      6029956738, 6030766275, 6037876776, 6038325380, 6042749667, 6043087970,
      6043333135, 6047701827, 6049586563, 6051513215, 6057290342, 6066981191,
      6068362834, 6071378871, 6076649873, 6077474708, 6085915372, 6087307738,
      6091829991, 6093386810, 6100169804, 6103313838, 6109770302, 6110801395,
      6112220659, 6122057648, 6129298558, 6131498957, 6136988285, 6140599356,
      6149251084, 6151672345, 6155584923, 6156184078, 6156600945, 6157432214,
      6159574513, 6166325320, 6166628843, 6170006615, 6172271342, 6172879990,
      6175440089, 6178303318, 6180329323, 6183829385, 6186010035, 6188542227,
      6189826988, 6190644528, 6193316867, 6193937822, 6195301845, 6202851516,
      6206244623, 6213535222, 6218294391, 6219146530, 6220986072, 6227485932,
      6236121589, 6236565547, 6237459870, 6238168394, 6239793039, 6241552284,
      6247207311, 6247659701, 6248108159, 6249368384, 6251194452, 6251553072,
      6256549852, 6257488193, 6257491353, 6263367553, 6263621033, 6265040461,
      6265132848, 6274811259, 6275953918, 6277524751, 6277718328, 6278001771,
      6278667801, 6280097919, 6280328677, 6286441974, 6286653456, 6286742332,
      6292686587, 6295489423, 6296826211, 6298542677, 6298900761, 6299660734,
      6306179076, 6307216442, 6309731233, 6309873424, 6311865170, 6312714305,
      6314146086, 6314351454, 6314508118, 6314862044, 6316508459, 6317812749,
      6318480436, 6319922370, 6321915565, 6322365212, 6327338093, 6329679469,
      6333188109, 6336228439, 6337337223, 6338188945, 6340620298, 6344419960,
      6344762051, 6344841699, 6349789856, 6350575215, 6352275936, 6354977662,
      6356291504, 6360873251, 6366080882, 6369765643, 6375908677, 6376958958,
      6377392906, 6379220565, 6384444540, 6385921193, 6390483252, 6393881052,
      6394246610, 6409180597, 6410472525, 6413483326, 6414031201, 6414915882,
      6415373413, 6419592690, 6420335551, 6422408843, 6422697219, 6422781919,
      6431639151, 6435349179, 6435424380, 6435844756, 6441467488, 6447772644,
      6449855267, 6451274550, 6451997804, 6452290621, 6459660099, 6459815694,
      6461860778, 6462082103, 6462916060, 6464188689, 6474918347, 6476032267,
      6477285689, 6478071599, 6483820525, 6484949878, 6485457616, 6485616655,
      6497287671, 6498183416, 6499240018, 6507478779, 6508370136, 6510885341,
      6514860973, 6515450862, 6517991216, 6524224796, 6526806549, 6527367969,
      6527984205, 6528662573, 6528811916, 6529473766, 6532681231, 6534018048,
      6540848385, 6542308439, 6542655797, 6543725776, 6543983227, 6544435352,
      6547236360, 6547976142, 6553219476, 6553797538, 6555121911, 6557432763,
      6561166018, 6563162391, 6564376852, 6569446378, 6572733209, 6575507740,
      6575522757, 6577465443, 6579642802, 6589105779, 6595787968, 6597339305,
      6601949561, 6610279996, 6613199320, 6617176596, 6623094776, 6625508671,
      6625657942, 6628881158, 6632624525, 6632819621, 6645236917, 6647118494,
      6648407395, 6651127458, 6651824864, 6656225076, 6658857786, 6660838290,
      6667685453, 6668681891, 6669647231, 6669855806, 6673631255, 6677508631,
      6678053381, 6680832377, 6681594649, 6691221244, 6691790167, 6691800577,
      6692696076, 6692971010, 6693342167, 6694164479, 6700331819, 6704807199,
      6705190270, 6707471896, 6709522215, 6710135978, 6713250457, 6715958828,
      6716354327, 6722886506, 6732887235, 6733243365, 6734218350, 6739320468,
      6741292819, 6743407984, 6745539605, 6747669639, 6760289445, 6760615422,
      6761394139, 6762401079, 6763427346, 6763888351, 6766645602, 6770641210,
      6772328557, 6775374371, 6780123236, 6781298255, 6781739074, 6788053394,
      6788391831, 6789171385, 6791273702, 6795518751, 6800825631, 6812553262,
      6813245323, 6814346975, 6817435288, 6819455853, 6827021167, 6828657662,
      6828980132, 6830238824, 6830588851, 6836253786, 6840157723, 6841196418,
      6842202271, 6842897294, 6843567421, 6845569741, 6851211052, 6851278534,
      6855195071, 6855721813, 6857410854, 6860487091, 6861301129, 6865197106,
      6868671383, 6869332958, 6873273829, 6873673242, 6873791582, 6874555104,
      6874591455, 6875612428, 6875991722, 6884983794, 6886166291, 6890920300,
      6890992035, 6891621252, 6892572798, 6892867017, 6899521795, 6899874630,
      6903847566, 6904289389, 6905469553, 6909984679, 6911951497, 6914177584,
      6914667373, 6914896729, 6915427692, 6917293635, 6918106752, 6920241399,
      6920604576, 6928191021, 6928401989, 6934094689, 6936012870, 6942880393,
      6944719689, 6948031076, 6948561703, 6950959143, 6956089423, 6956915229,
      6964186198, 6965889567, 6973707349, 6978702813, 6981817484, 6982810807,
      6985671804, 7001615175, 7003485958, 7005525968, 7006196392, 7009990682,
      7010220560, 7010840790, 7010880532, 7011364645, 7013532583, 7014755920,
      7015462417, 7016632410, 7019753246, 7021163368, 7022888381, 7037740985,
      7039814928, 7050147796, 7050550195, 7054951310, 7055054167, 7059788270,
      7063598620, 7064121643, 7068404993, 7071839508, 7073288296, 7073980458,
      7080655049, 7089807301, 7090879738, 7093553555, 7096473534, 7103560312,
      7108039581, 7109669134, 7109890196, 7110182226, 7111300192, 7112959284,
      7113220521, 7117651777, 7121217465, 7123411382, 7123880518, 7128994453,
      7129154587, 7130699019, 7130864820, 7131646003, 7132613612, 7134160121,
      7136019020, 7136605157, 7140807953, 7145718778, 7146143844, 7146166674,
      7147340752, 7152157549, 7152922201, 7155616187, 7156044819, 7157240762,
      7162794267, 7163375967, 7165032834, 7166790764, 7166988105, 7167390517,
      7171763912, 7174116496, 7175643974, 7175964154, 7176076996, 7181686404,
      7184166374, 7186821802, 7191149455, 7194367245, 7195214252, 7197789424,
      7201108539, 7203916371, 7204141770, 7205322248, 7205551419, 7211558998,
      7212237415, 7217458846, 7221143736, 7225077374, 7225956659, 7227610858,
      7231546429, 7232166120, 7234053080, 7237706264, 7239423066, 7239657306,
      7244504797, 7252457081, 7253162526, 7256136381, 7257868254, 7258938053,
      7260523565, 7263009771, 7268376717, 7271515299, 7272233623, 7272386141,
      7275105400, 7275109084, 7275623381, 7280774660, 7288050826, 7293213721,
      7294207877, 7294425562, 7296061514, 7297771754, 7299907917, 7305813344,
      7306536461, 7306995129, 7307712715, 7308108574, 7308651849, 7312468058,
      7322644915, 7326100456, 7331220608, 7338249619, 7341411765, 7343371443,
      7343784715, 7343910582, 7343994596, 7348960193, 7354104341, 7355793781,
      7355885562, 7356064417, 7357191530, 7358655364, 7358812914, 7362113480,
      7363393743, 7366880227, 7367183025, 7369575714, 7371019351, 7375116044,
      7379335205, 7386597431, 7387567023, 7396757669, 7400239778, 7403094670,
      7403875784, 7404038548, 7407685994, 7409803037, 7409881901, 7412852083,
      7415982074, 7418049639, 7420812138, 7423756104, 7423942849, 7431206421,
      7432678569, 7433239899, 7437729655, 7437871660, 7438901275, 7441526251,
      7444345588, 7445533399, 7451660167, 7458414877, 7464365758, 7466037576,
      7467375031, 7468024818, 7469569390, 7473149566, 7476762300, 7477466107,
      7479260451, 7480854083, 7481464494, 7483356283, 7487484572, 7489259204,
      7489331288, 7491733610, 7493074559, 7504524246, 7509512130, 7515415639,
      7515547200, 7517445391, 7521601857, 7524606493, 7528039646, 7531611836,
      7532155635, 7534228271, 7535269775, 7538898178, 7543276327, 7550188672,
      7550255572, 7550541425, 7551054122, 7553942537, 7554121132, 7556095966,
      7558210794, 7561377548, 7564414300, 7566692881, 7572462373, 7573381396,
      7575999687, 7576805877, 7577852103, 7578539838, 7580607992, 7581877684,
      7584054422, 7586295831, 7587946254, 7588370367, 7593139447, 7594955350,
      7595199286, 7595451569, 7598335712, 7599773550, 7611905731, 7614690471,
      7617582277, 7619695071, 7628800729, 7630135406, 7630488550, 7632454198,
      7632618992, 7632942021, 7634893965, 7637429516, 7637443482, 7637521792,
      7640708535, 7641568116, 7642283435, 7645094634, 7645483733, 7647218297,
      7647719957, 7647793123, 7647885756, 7651359598, 7661430845, 7669960592,
      7671499194, 7672526520, 7674515688, 7676818195, 7676836640, 7681473241,
      7681882050, 7688675049, 7689329925, 7696074163, 7698137501, 7700213020,
      7702329373, 7702713158, 7704113353, 7704614314, 7712852422, 7714438727,
      7715332419, 7717571904, 7718099855, 7718228469, 7718997315, 7721881567,
      7724504541, 7725782963, 7736375007, 7743862405, 7745292367, 7747103024,
      7747824913, 7748221173, 7750614087, 7751572043, 7754114447, 7754535182,
      7756572619, 7758144171, 7758661094, 7759349490, 7762160443, 7762516768,
      7763287637, 7765051394, 7768486693, 7768862174, 7768928696, 7770547038,
      7771277579, 7772619016, 7779925409, 7781263431, 7781644298, 7786249842,
      7790702907, 7794295825, 7797428452, 7797971808, 7798067322, 7799185298,
      7800908047, 7806036342, 7807701904, 7808335302, 7809277010, 7809835132,
      7811253319, 7813202662, 7821460021, 7826159315, 7830455260, 7830680585,
      7831564524, 7832594445, 7836126438, 7842679430, 7844357045, 7851654041,
      7859108857, 7859435839, 7862748983, 7864179464, 7865147986, 7867214379,
      7867363708, 7870604161, 7871477509, 7875515954, 7878328152, 7879182264,
      7881010723, 7882395878, 7882967678, 7886624714, 7887295177, 7887510743,
      7890235122, 7894864974, 7896597743, 7897987133, 7899001558, 7902861324,
      7904785126, 7905738267, 7911078363, 7911785136, 7912086335, 7919432781,
      7920764966, 7921972222, 7926599941, 7927687461, 7940121466, 7942497683,
      7942848875, 7943980477, 7953856629, 7958162590, 7958167425, 7959700362,
      7960551560, 7961120208, 7961381806, 7961575827, 7962722305, 7965227649,
      7969927949, 7973418923, 7973665478, 7974408108, 7975195031, 7975506247,
      7976302792, 7976764782, 7978081022, 7979557869, 7983268037, 7987678665,
      7994514495, 7994999914, 7995252627, 7997618310, 7999416158, 8003448153,
      8003601489, 8004417459, 8004894937, 8008187031, 8012622769, 8012698237,
      8013427545, 8013795435, 8016102261, 8022248206, 8029107577, 8030364096,
      8035350453, 8035906438, 8036501435, 8037724768, 8040215574, 8040734662,
      8041962017, 8044874308, 8045804931, 8049462800, 8054358182, 8056699553,
      8058123110, 8060470866, 8065978816, 8068620812, 8073161903, 8074376073,
      8076404075, 8080661981, 8081333129, 8083122602, 8083482180, 8083567023,
      8086631980, 8089801320, 8094870774, 8095272798, 8100089723, 8104997338,
      8107663801, 8107916363, 8114117191, 8114190136, 8121735444, 8127204461,
      8130218954, 8134232265, 8136094221, 8136408361, 8137796684, 8140473168,
      8143984489, 8145815633, 8150093666, 8151367150, 8154528801, 8154588497,
      8154958889, 8157440967, 8160631440, 8164901295, 8165130177, 8165956581,
      8166582297, 8169146308, 8169569168, 8177816152, 8182154094, 8182362368,
      8182560347, 8183933428, 8190975243, 8192732418, 8194183251, 8195748591,
      8196280401, 8196974631, 8200135653, 8210371903, 8213310410, 8215566133,
      8221604699, 8221636730, 8227992660, 8233012384, 8235384980, 8248754994,
      8255236751, 8265424024, 8268329083, 8272041664, 8277208401, 8279553757,
      8288289440, 8289049401, 8289357318, 8312703964, 8326271852, 8334246048,
      8338609327, 8348202142, 8353378534, 8365122113, 8365790960, 8370072924,
      8375882183, 8380613778, 8384005663, 8391466794, 8409083056, 8413141682,
      8414883977, 8434772005, 8440947433, 8444221991, 8451040880, 8452690909,
      8470966250, 8471923332, 8473399400, 8476819178, 8477261144, 8477949174,
      8486096355, 8487113761, 8495245433, 8495342399,
    ].reverse();

    await prisma.$disconnect();

    const bot = new Api("7555652095:AAHLGl6sP_6rZR0i2DUIyns2kTQvui6plTE");

    let success = 0;
    let errors = 0;
    const batchSize = 30;

    const formatProgress = (status: string) =>
      `<b>${status}</b>\n\n<i>üìä –ü—Ä–æ–≥—Ä–µ—Å—Å:</i>\n‚úÖ –£—Å–ø–µ—Ö–æ–≤: <b>${success}</b>\n‚ùå –û—à–∏–±–æ–∫: <b>${errors}</b>`;

const inputFile = new InputFile("./img.jpg");

    const sendMessage = async (user: number) => {
      try {
        await bot.sendMessage(
          Number(user),
          // inputFile,
          // {
          //  caption: 
           `<b>üéØ –ë—Ä–æ—Å–∞–µ–º –¥—Ä–æ—Ç–∏–∫ –∏ –∑–∞–±–∏—Ä–∞–µ–º –∫—Ä–∞—Å–∏–≤—ã–π –º–µ—á</b>

<blockquote>https://t.me/nft/LightSword-82127</blockquote>

<a href="https://t.me/DurovDartsBot?start=_tgr_xFQU9LYzMTli"><b>ü§ñ @DurovDartsBot</b></a>`,
{
parse_mode:"HTML", 
            reply_markup: new InlineKeyboard()
            .url("üéØ –ë—Ä–æ—Å–∏—Ç—å –¥—Ä–æ—Ç–∏–∫", "https://t.me/DurovDartsBot?start=_tgr_xFQU9LYzMTli")
          }
        );
        return true;
      } catch (err) {
        console.log(err);
        return false;
      }
    };

    for (let i = 0; i < users.length; i += batchSize) {
      const batch = users.slice(i, i + batchSize);

      await Promise.all(
        batch.map((user) =>
          sendMessage(user).then((ok) => {
            if (ok) success++;
            else errors++;
          })
        )
      );

      console.log(formatProgress(""));

      await new Promise((resolve) => setTimeout(resolve, 1500));
    }

  } catch (err) {
    console.error(err);
  } finally {
    process.send?.("done");
  }
})();
